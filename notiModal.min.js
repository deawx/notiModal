!function(t){NModal=function(o){var i;try{i=window.localStorage}catch(n){i=!1}this._options=t.extend({name:"",title:"Hello world",content:"Hi there, this is a test content",ok:"ok",no_more:"Stop showing this",close:"Close",top:"20px",max_width:"320px",duration:"500ms",delay:0,storage:i,template:'<div class="popover notiModal" role="tooltip"> <div class="arrow"></div> <h3 class="popover-title">{{title}}</h3> <div class="popover-content">{{content}}</div> <div class="popover-navigation"> <button class="btn btn-sm btn-default" data-role="ok">{{ok}}</button> <button class="btn btn-sm btn-default" data-role="no_more">{{no_more}}r</button> <button class="btn btn-sm btn-default" data-role="close">{{close}}</button> </div> </div>',onOkClick:function(t){}},o),this.shift_right="-"+(parseFloat(this._options.max_width)+20)+"px",this.init()},NModal.prototype.addStyle=function(){this.modal.css({display:"block","max-width":parseFloat(this._options.max_width)+"px",right:this.shift_right,top:parseFloat(this._options.top)+"px",left:"auto",position:"fixed","-webkit-transition":"all "+this._options.duration+" ease-out","-moz-transition":"all "+this._options.duration+" ease-out","-o-transition":"all "+this._options.duration+" ease-out",transition:"all "+this._options.duration+" ease-out","border-bottom-right-radius":"0","border-top-right-radius":"0"}),this.modal.find(".popover-navigation").css({"margin-bottom":"9px","margin-left":"14px","padding-right":"25px"})},NModal.prototype.replaceTemplate=function(){this.modal.find("h3.popover-title").text(this._options.title),this.modal.find(".popover-content").text(this._options.content),this.modal.find('button[data-role="ok"]').text(this._options.ok),this.modal.find('button[data-role="no_more"]').text(this._options.no_more),this.modal.find('button[data-role="close"]').text(this._options.close),this.modal.addClass(this._options.name)},NModal.prototype.init=function(){this.modal=t(this._options.template),this.addStyle(),this.replaceTemplate(),this.attachEvents(),t("body").append(this.modal)},NModal.prototype.attachEvents=function(){var t=this;this.modal.find('button[data-role="ok"]').click(function(){t._options.onOkClick(t)}),this.modal.find('button[data-role="close"]').click(function(){t.hide()}),this.modal.find('button[data-role="no_more"]').click(function(){t.setState("never_show_"+t._options.name,!0),t.hide()})},NModal.prototype.setState=function(t,o){if(this._options.storage){keyName=""+this._options.name+"_"+t;try{this._options.storage.setItem(t,o)}catch(i){e=i,e.code===DOMException.QUOTA_EXCEEDED_ERR&&this._debug("LocalStorage quota exceeded. State storage failed.")}}},NModal.prototype.getState=function(t){var o=!1;return this._options.storage&&(o=this._options.storage.getItem(t)),o},NModal.prototype.show=function(){var t=this;is_never_show_again=this.getState("never_show_"+this._options.name),is_never_show_again||setTimeout(function(){t.modal.css("right",-5)},this._options.delay)},NModal.prototype.hide=function(){this.modal.css("right",this.shift_right)},NotiModal=function(){this.noti_modals={}},NotiModal.prototype.init=function(t,o){return t in this.noti_modals?void console.error("modal name : "+t+" already taken"):(o.name=t,this.noti_modals[t]=new NModal(o),this.noti_modals[t])},NotiModal.prototype.get=function(t){return t in this.noti_modals?this.noti_modals[t]:void console.error("no such modal name : "+t)},t.notiModal=new NotiModal}(window.jQuery);